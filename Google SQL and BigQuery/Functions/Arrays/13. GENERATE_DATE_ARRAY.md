ðŸ“… **BigQuery Pro Tip: Easily Create a Series of Dates with `GENERATE_DATE_ARRAY()`**

Today I was working on a reporting dashboard where I needed to show **daily metrics between two dates** â€” but the dataset had **missing days**.
Instead of manually building a calendar table or writing complex logicâ€¦
ðŸ‘‰ I solved it in seconds using BigQueryâ€™s powerful function: `GENERATE_DATE_ARRAY()` ðŸ’¡

---

ðŸ”§ **What it does:**
`GENERATE_DATE_ARRAY(start_date, end_date [, INTERVAL n date_part])`
It returns an **array of dates** between two points â€” with full control over the step (days, weeks, months, etc.).

---

âœ… **1. Generate a daily date range:**

```sql
SELECT GENERATE_DATE_ARRAY('2025-10-01', '2025-10-08') AS date_range;
```

ðŸ“Š Output:

```
[2025-10-01, 2025-10-02, 2025-10-03, 2025-10-04, 2025-10-05, 2025-10-06, 2025-10-07, 2025-10-08]
```

---

âœ… **2. Step by weeks:**

```sql
SELECT GENERATE_DATE_ARRAY('2025-01-01', '2025-02-01', INTERVAL 1 WEEK) AS weeks;
```

ðŸ“Š Output:

```
[2025-01-01, 2025-01-08, 2025-01-15, 2025-01-22, 2025-01-29]
```

---

âœ… **3. Step by months (perfect for monthly reports):**

```sql
SELECT GENERATE_DATE_ARRAY('2025-01-01', '2025-12-31', INTERVAL 1 MONTH) AS months;
```

ðŸ“Š Output:

```
[2025-01-01, 2025-02-01, 2025-03-01, ..., 2025-12-01]
```

---

ðŸ’¼ **Real-world use case:**
I recently used this to generate a **date dimension on the fly** and **LEFT JOIN** it with metrics data â€” which helped easily **fill missing days** in dashboards without maintaining a separate date table. ðŸ™Œ

---

ðŸ’¡ **Pro tips:**

* You can use negative intervals too (e.g., going backwards).
* Combine with `UNNEST()` to expand rows and join with your main data.
* Works great for building time series reports, retention tables, and backfills.

ðŸ“Š **Real-World BigQuery Trick: How I Filled Missing Dates in a Dashboard in 2 Minutes ðŸš€**

I ran into a common data engineering problem this week ðŸ‘‡

We were building a daily sales dashboard â€” but the raw data **only contained dates where sales occurred**.
That meant days with **zero sales were missing**, and the line chart looked broken. ðŸ“‰

Instead of creating a calendar table or writing Python scripts, I fixed it *entirely in SQL* using one simple BigQuery function: **`GENERATE_DATE_ARRAY()`** ðŸ’¡

âœ… **Step 1: Generate a complete list of dates**
Hereâ€™s how I created all dates for the last 30 days:

```sql
WITH calendar AS (
  SELECT day
  FROM UNNEST(GENERATE_DATE_ARRAY(
    DATE_SUB(CURRENT_DATE(), INTERVAL 30 DAY),
    CURRENT_DATE()
  )) AS day
)
```

âœ… **Step 2: Join it with your sales data**

```sql
SELECT 
  c.day,
  COALESCE(SUM(sales.amount), 0) AS total_sales
FROM calendar c
LEFT JOIN `project.dataset.sales` s
ON c.day = s.sale_date
GROUP BY c.day
ORDER BY c.day;
```

ðŸ“Š **Result:**

* Every date in the last 30 days now appears.
* Days with no sales show `0`.
* My visualization is now continuous and accurate. âœ…


ðŸ’¡ **Why I love this approach:**

* No need for a prebuilt calendar table.
* Works dynamically for any date range.
* Makes reporting much more reliable (especially for dashboards, retention, or time series analysis).


ðŸ”¥ **Pro Tip:** You can also change the interval to `1 WEEK` or `1 MONTH` if youâ€™re working on weekly/monthly reports.

Have you used `GENERATE_DATE_ARRAY()` before? Drop your coolest use case below ðŸ‘‡

#BigQuery #GoogleCloud #DataEngineering #SQLTips #DataAnalytics #GCP #Cloud

